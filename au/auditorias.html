<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summas - Auditorías</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styleauditorias.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="../LogoSummas.png" alt="Summas Consultoría">
        </div>
        
        <nav>
            <a href="../dash/dashboard.html">Dashboard</a>
            <a href="auditorias.html" class="active">Auditorías</a>
            <a href="../plan/plantillas.html">Plantillas</a>
            <a href="../em/empresa.html">Empresas</a>
        </nav>
        
        <div class="user-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
        </div>
    </header>

    <div class="content">
        <!-- Filters Section -->
        <div class="filters-section">
            <div class="filter-row">
                <div class="filter-group">
                    <label>Empresa</label>
                    <select id="empresa" class="filter-select">
                        <option>Selecciona la empresa</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Estado</label>
                    <select id="estado" class="filter-select">
                        <option>Selecciona el estado</option>
                    </select>
                </div>
                <div class="button-group">
                    <button class="btn-refresh refresh-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                        </svg>
                    </button>
                    <button class="btn-export export-btn">Exportar</button>
                    <button class="btn-add add-btn" id="btnNuevaAuditoria">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Auditorías List -->
        <div class="auditorias-list" id="auditoriasList">
        </div>

        <!-- Pagination -->
        <div class="pagination">
            <button class="pagination-btn" id="prevPage">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            <span class="pagination-info">Página <span id="currentPage">1</span></span>
            <button class="pagination-btn" id="nextPage">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>
    </div>

    <!-- Modal de Perfil -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Perfil de Usuario</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="profile-avatar">
                    <div class="avatar-circle">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#1D3579">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <button class="btn-change-photo">Cambiar foto</button>
                </div>
                
                <div class="profile-info">
                    <div class="info-row">
                        <div class="info-group">
                            <label>Nombre completo</label>
                            <input type="text" id="fullName" value="Juan Pérez" readonly>
                        </div>
                        <div class="info-group">
                            <label>Email</label>
                            <input type="email" id="email" value="juan.perez@summas.com" readonly>
                        </div>
                    </div>
                    
                    <div class="info-row">
                        <div class="info-group">
                            <label>Cargo</label>
                            <input type="text" id="position" value="Auditor Senior" readonly>
                        </div>
                        <div class="info-group">
                            <label>Departamento</label>
                            <input type="text" id="department" value="Control de Calidad" readonly>
                        </div>
                    </div>
                    
                    <div class="info-row">
                        <div class="info-group">
                            <label>Teléfono</label>
                            <input type="tel" id="phone" value="+51 999 888 777" readonly>
                        </div>
                        <div class="info-group">
                            <label>Fecha de ingreso</label>
                            <input type="text" id="joinDate" value="15/03/2023" readonly>
                        </div>
                    </div>
                    
                    <div class="info-row single">
                        <div class="info-group full-width">
                            <label>Permisos</label>
                            <div class="permissions-tags">
                                <span class="tag">Administrador</span>
                                <span class="tag">Auditorías</span>
                                <span class="tag">Reportes</span>
                                <span class="tag">Gestión de Usuarios</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn-secondary" id="btnEditProfile">Editar Perfil</button>
                    <button class="btn-primary" id="btnChangePassword">Cambiar Contraseña</button>
                    <button class="btn-danger" id="btnLogout">Cerrar Sesión</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Nueva Auditoría -->
    <div id="nuevaAuditoriaModal" class="modal">
        <div class="modal-content modal-nueva-auditoria">
            <div class="modal-header">
                <h2>Nueva Auditoría</h2>
                <span class="close-modal" id="closeNuevaAuditoria">&times;</span>
            </div>
            <div class="modal-body">
                <form id="formNuevaAuditoria">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nuevaEmpresa">Empresa</label>
                            <select id="nuevaEmpresa" class="form-input" required>
                                <option value="">Selecciona la empresa</option>
                                <option value="toyota">Toyota</option>
                                <option value="nissan">Nissan</option>
                                <option value="honda">Honda</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nuevaMarca">Marca</label>
                            <select id="nuevaMarca" class="form-input" required>
                                <option value="">Selecciona la marca</option>
                                <option value="lexus">Lexus</option>
                                <option value="toyota">Toyota</option>
                                <option value="nissan">Nissan</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="nuevoLocal">Local</label>
                            <select id="nuevoLocal" class="form-input" required>
                                <option value="">Selecciona el local</option>
                                <option value="surco">Grupo Pana: Surco</option>
                                <option value="miraflores">Grupo Pana: Miraflores</option>
                                <option value="san-isidro">Grupo Pana: San Isidro</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="nuevaEvaluacion">Evaluación</label>
                            <select id="nuevaEvaluacion" class="form-input" required>
                                <option value="">Selecciona la evaluación</option>
                                <option value="ventas">Procesos (Ventas): Mystery Shopper</option>
                                <option value="servicio">Procesos (Servicio): Mystery Shopper</option>
                                <option value="general">Procesos (General): Mystery Shopper</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="nuevoAuditor">Auditor</label>
                            <input type="text" id="nuevoAuditor" class="form-input" placeholder="Nombre del auditor" required>
                        </div>
                        <div class="form-group">
                            <label for="nuevaFecha">Fecha</label>
                            <div class="date-input-wrapper">
                                <input type="date" id="nuevaFecha" class="form-input" required>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1D3579" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-crear">Crear</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Detalle de Auditoría -->
    <div id="detalleAuditoriaModal" class="modal">
        <div class="modal-content modal-detalle-auditoria">
            <div class="modal-header modal-header-detalle">
                <h2>Auditoría</h2>
                <div class="detalle-header-right">
                    <span class="detalle-status-badge" id="detalleEstado">Pendiente</span>
                    <span class="close-modal" id="closeDetalleAuditoria">&times;</span>
                </div>
            </div>
            <div class="modal-body modal-body-detalle">
                <div class="detalle-row">
                    <span class="detalle-label">Empresa Auditada</span>
                    <span class="detalle-value" id="detalleEmpresa">-</span>
                </div>
                <hr class="detalle-divider">
                <div class="detalle-row">
                    <span class="detalle-label">Evaluación</span>
                    <span class="detalle-value" id="detalleEvaluacion">-</span>
                </div>
                <hr class="detalle-divider">
                <div class="detalle-row">
                    <span class="detalle-label">Fecha Programada</span>
                    <span class="detalle-value" id="detalleFecha">-</span>
                </div>
                <hr class="detalle-divider">
                <div class="detalle-row">
                    <span class="detalle-label">Auditor</span>
                    <span class="detalle-value" id="detalleAuditor">-</span>
                </div>
                <hr class="detalle-divider">
                <div class="detalle-row">
                    <span class="detalle-label">%Cumplimiento</span>
                    <span class="detalle-value" id="detalleCumplimiento">Sin calificar</span>
                </div>
                <div class="detalle-actions">
                    <button class="btn-detalle-action" id="btnDetalleAction">Empezar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scriptauditorias.js"></script>
</body>
</html>