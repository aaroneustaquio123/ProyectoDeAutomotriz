<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summas - Editar Plantilla</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styleeditar.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="../LogoSummas.png" alt="Summas Consultoría">
        </div>
        <nav>
            <a href="../dash/dashboard.html">Dashboard</a>
            <a href="../au/auditorias.html">Auditorías</a>
            <a href="plantillas.html" class="active">Plantillas</a>
            <a href="../em/empresa.html">Empresas</a>
            <a href="../usu/usuario.html">Usuarios</a>
        </nav>
        <div class="user-icon" id="userIconBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
        </div>
    </header>

    <div class="content">
        <a href="plantillas.html" class="btn-volver">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
            Volver
        </a>

        <h1 class="page-title">Editar Plantilla</h1>

        <div class="form-section">
            <div class="form-row">
                <div class="form-group">
                    <label>Empresa</label>
                    <select class="form-control">
                        <option>Empresa 1</option>
                        <option>Empresa 2</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Marca</label>
                    <select class="form-control">
                        <option>Marca 1</option>
                        <option>Toyota</option>
                        <option>Honda</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Concesionaria</label>
                    <select class="form-control">
                        <option>Concesionaria 1</option>
                        <option>Concesionaria 2</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Local</label>
                    <select class="form-control">
                        <option>Local 1</option>
                        <option>Local 2</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Capítulo</label>
                    <select class="form-control">
                        <option>Nuevo</option>
                        <option>Existente</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <input type="text" class="form-control" placeholder="Nombre nuevo">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Subcapítulo</label>
                    <select class="form-control">
                        <option>Nuevo</option>
                        <option>Existente</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <input type="text" class="form-control" placeholder="Nombre nuevo">
                </div>
            </div>

            <div class="form-row single">
                <div class="form-group">
                    <label>Nombre de plantilla</label>
                    <input type="text" class="form-control" placeholder="Auditor evidencia">
                </div>
            </div>

            <div class="cumplimiento-wrapper">
                <div class="cumplimiento-bar">
                    <span class="cumplimiento-label">Ingresar porcentaje de cumplimiento</span>
                    <div class="cumplimiento-input-group">
                        <input type="number" class="cumplimiento-input" placeholder="Escribir el numero" min="0" max="100">
                        <span class="cumplimiento-percent">%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Criterios -->
        <div class="criterios-section">
            <div class="criterios-header">
                <h2 class="criterios-title">Criterios</h2>
                <div class="criterios-actions">
                    <button class="btn-editar-criterio" id="btnEditarCriterio">Editar</button>
                    <button class="btn-agregar-criterio" id="btnAgregarCriterio">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Agregar Criterio
                    </button>
                </div>
            </div>

            <div class="criterios-list" id="criteriosList">
                <div class="criterio-item">
                    <span class="criterio-nombre">CAPTACION DE CLIENTES</span>
                    <svg class="criterio-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>
                <div class="criterio-item">
                    <span class="criterio-nombre">CITAS DE SERVICIO</span>
                    <svg class="criterio-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>
                <div class="criterio-item">
                    <span class="criterio-nombre">RECEPCION DE SERVICIO</span>
                    <svg class="criterio-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>
                <div class="criterio-item">
                    <span class="criterio-nombre">ASISTENCIA TECNICA</span>
                    <svg class="criterio-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>
                <div class="criterio-item">
                    <span class="criterio-nombre">DISTRIBUCIÓN</span>
                    <svg class="criterio-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Botones finales -->
        <div class="bottom-actions">
            <button class="btn-cancelar" id="btnCancelar">Cancelar</button>
            <button class="btn-guardar-plantilla" id="btnGuardar">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                    <polyline points="17 21 17 13 7 13 7 21"></polyline>
                    <polyline points="7 3 7 8 15 8"></polyline>
                </svg>
                Guardar Plantilla
            </button>
        </div>
    </div>

    <!-- ============================
         MODAL: EDITAR CRITERIOS
    ============================ -->
    <div id="modalEditarCriterios" class="modal">
        <div class="modal-content modal-editar-criterios">
            <div class="modal-header">
                <h2>Editar Criterios</h2>
                <span class="close-modal" id="closeEditarCriterios">&times;</span>
            </div>
            <div class="modal-body">
                <div class="ec-list" id="ecList">
                    <!-- Se genera dinámicamente desde JS -->
                </div>
                <div class="ec-bottom-actions">
                    <button class="btn-cancelar" id="btnCancelarEditar">Cancelar</button>
                    <button class="btn-guardar-plantilla" id="btnGuardarCriterios">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        Guardar Criterios
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================
         MODAL: NUEVO CRITERIO
    ======================== -->
    <div id="modalNuevoCriterio" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Nuevo Criterio</h2>
                <span class="close-modal" id="closeNuevoCriterio">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label style="color:#1D3579;font-weight:600;font-size:13px;margin-bottom:8px;display:block;">Nombre del Criterio</label>
                    <input type="text" class="form-control" id="inputNombreCriterio" placeholder="Criterio x">
                </div>
                <div class="modal-actions-center">
                    <button class="btn-crear-criterio" id="btnCrearCriterio">Crear</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================
         MODAL: GUARDAR CAMBIOS
    ======================== -->
    <div id="modalGuardar" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Guardar Cambios</h2>
                <span class="close-modal" id="closeGuardar">&times;</span>
            </div>
            <div class="modal-body modal-confirm-body">
                <p class="confirm-question">¿Esta seguro de guardar?</p>
                <p class="confirm-desc">Recuerda que todos los cambios que hayas realizado se guardarán de forma definitiva.</p>
                <div class="confirm-actions">
                    <button class="btn-si" id="btnConfirmarGuardar">Sí</button>
                    <button class="btn-no" id="btnCancelarGuardar">No</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================
         MODAL: CANCELAR CAMBIOS
    ======================== -->
    <div id="modalCancelar" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Cancelar Cambios</h2>
                <span class="close-modal" id="closeCancelar">&times;</span>
            </div>
            <div class="modal-body modal-confirm-body">
                <p class="confirm-question">¿Esta seguro de salir?</p>
                <p class="confirm-desc">Recuerda que todos los cambios que hayas realizado serán cancelados y no se guardarán</p>
                <div class="confirm-actions">
                    <button class="btn-si" id="btnConfirmarCancelar">Sí</button>
                    <button class="btn-no" id="btnNoCancelar">No</button>
                </div>
            </div>
        </div>
    </div>
<!-- MODAL: EDITAR SUBCRITERIOS -->
<div id="modalEditarSubcriterios" class="modal">
    <div class="modal-content modal-editar-criterios">
        <div class="modal-header">
            <h2 id="tituloEditarSub">Editar Subcriterios</h2>
            <span class="close-modal" id="closeEditarSubcriterios">&times;</span>
        </div>
        <div class="modal-body">
            <a href="#" class="btn-volver" id="btnVolverEditarSub">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
                Volver
            </a>
            <div class="ec-list" id="ecListSub"></div>
            <div class="ec-bottom-actions">
                <button class="btn-cancelar" id="btnCancelarEditarSub">Cancelar</button>
                <button class="btn-guardar-plantilla" id="btnGuardarSubcriterios">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                        <polyline points="7 3 7 8 15 8"></polyline>
                    </svg>
                    Guardar Cambios
                </button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL: CONFIRMAR GUARDAR SUBCRITERIOS -->
<div id="modalGuardarSub" class="modal">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h2>Guardar Cambios</h2>
            <span class="close-modal" id="closeGuardarSub">&times;</span>
        </div>
        <div class="modal-body modal-confirm-body">
            <p class="confirm-question">¿Esta seguro de guardar?</p>
            <p class="confirm-desc">Recuerda que todos los cambios que hayas realizado se guardarán de forma definitiva.</p>
            <div class="confirm-actions">
                <button class="btn-si" id="btnConfirmarGuardarSub">Sí</button>
                <button class="btn-no" id="btnNoGuardarSub">No</button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL: CONFIRMAR CANCELAR SUBCRITERIOS -->
<div id="modalCancelarSub" class="modal">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h2>Cancelar Cambios</h2>
            <span class="close-modal" id="closeCancelarSub">&times;</span>
        </div>
        <div class="modal-body modal-confirm-body">
            <p class="confirm-question">¿Esta seguro de salir?</p>
            <p class="confirm-desc">Recuerda que todos los cambios que hayas realizado serán cancelados y no se guardarán.</p>
            <div class="confirm-actions">
                <button class="btn-si" id="btnConfirmarCancelarSub">Sí</button>
                <button class="btn-no" id="btnNoCancelarSub">No</button>
            </div>
        </div>
    </div>
</div>
    <!-- ========================
         MODAL: PERFIL DE USUARIO
    ======================== -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Perfil de Usuario</h2>
                <span class="close-modal" id="closeProfileModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="profile-avatar">
                    <div class="avatar-circle">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#1D3579">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <button class="btn-change-photo">Cambiar foto</button>
                </div>
                <div class="profile-info">
                    <div class="info-row">
                        <div class="info-group">
                            <label>Nombre completo</label>
                            <input type="text" value="Juan Pérez" readonly>
                        </div>
                        <div class="info-group">
                            <label>Email</label>
                            <input type="email" value="juan.perez@summas.com" readonly>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="info-group">
                            <label>Cargo</label>
                            <input type="text" value="Auditor Senior" readonly>
                        </div>
                        <div class="info-group">
                            <label>Departamento</label>
                            <input type="text" value="Control de Calidad" readonly>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="info-group">
                            <label>Teléfono</label>
                            <input type="tel" value="+51 999 888 777" readonly>
                        </div>
                        <div class="info-group">
                            <label>Fecha de ingreso</label>
                            <input type="text" value="15/03/2023" readonly>
                        </div>
                    </div>
                    <div class="info-row single">
                        <div class="info-group full-width">
                            <label>Permisos</label>
                            <div class="permissions-tags">
                                <span class="tag">Administrador</span>
                                <span class="tag">Auditorías</span>
                                <span class="tag">Reportes</span>
                                <span class="tag">Gestión de Usuarios</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" id="btnEditProfile">Editar Perfil</button>
                    <button class="btn-primary" id="btnChangePassword">Cambiar Contraseña</button>
                    <button class="btn-danger" id="btnLogout">Cerrar Sesión</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scripteditar.js"></script>
</body>
</html>